#!/usr/bin/env ruby
URLS= %w{  http://www.rubyops.net/ http://www.rubyops.net/tag http://www.rubyops.net/tag/introduction http://www.rubyops.net/tag/nginx http://www.rubyops.net/tag/aws http://www.rubyops.net/tag/how-to http://www.rubyops.net/tag/mysql http://www.rubyops.net/tag/ruby%20on%20rails http://www.rubyops.net/tag/bundler http://www.rubyops.net/tag/unicorn http://www.rubyops.net/tag/rspec http://www.rubyops.net/tag/vcr http://www.rubyops.net/tag/sinatra http://www.rubyops.net/tag/vlad http://www.rubyops.net/tag/ssh http://www.rubyops.net/tag/rack http://www.rubyops.net/tag/mobile http://www.rubyops.net/tag/haml http://www.rubyops.net/tag/erb http://www.rubyops.net/tag/vlad-push http://www.rubyops.net/tag/deployment http://www.rubyops.net/tag/rake http://www.rubyops.net/tag/mongo_mapper http://www.rubyops.net/tag/caching http://www.rubyops.net/tag/webmock http://www.rubyops.net/tag/mongomapper http://www.rubyops.net/tag/mongoid http://www.rubyops.net/tag/rails http://www.rubyops.net/tag/database http://www.rubyops.net/tag/newrelic http://www.rubyops.net/tag/rackup http://www.rubyops.net/tag/ios http://www.rubyops.net/tag/iphone http://www.rubyops.net/tag/chrome http://www.rubyops.net/tag/application%20cache http://www.rubyops.net/tag/cacheing http://www.rubyops.net/tag/off%20toppic http://www.rubyops.net/tag/cache http://www.rubyops.net/tag/gruff http://www.rubyops.net/tag/python http://www.rubyops.net/tag/ruby http://www.rubyops.net/tag/mongodb http://www.rubyops.net/tag/memcached http://www.rubyops.net/tag/mongo http://www.rubyops.net/tag/git http://www.rubyops.net/tag/github http://www.rubyops.net/tag/programming http://www.rubyops.net/tag/duality http://www.rubyops.net/tag/monogocached http://www.rubyops.net/tag/diskcached http://www.rubyops.net/tag/benchmark http://www.rubyops.net/tag/httperf http://www.rubyops.net/tag/httperfrb http://www.rubyops.net/tag/performance%20testing http://www.rubyops.net/tag/ubuntu http://www.rubyops.net/tag/hp%20folio%2013 http://www.rubyops.net/tag/wireless http://www.rubyops.net/tag/off%20topic http://www.rubyops.net/tag/bash http://www.rubyops.net/tag/linux http://www.rubyops.net/tag/iptables http://www.rubyops.net/tag/security http://www.rubyops.net/2012/05/29/introduction http://www.rubyops.net/2012/05/29/using_nginx_and_aws_to_proxy_sub-domains http://www.rubyops.net/2012/05/29/how-to_setup_mysql_and_ror_on_aws http://www.rubyops.net/2012/05/29/mocking_http_response_body_for_rspec http://www.rubyops.net/2012/05/29/sourcing_and_setting_environment_variables_in_ruby http://www.rubyops.net/2012/05/29/dynamically_generated_object_with_accessors http://www.rubyops.net/2012/05/30/sinatra_mobile_dection_-_rack-mobile-detect http://www.rubyops.net/2012/05/30/configurable_template_engine_in_sinatra http://www.rubyops.net/2012/05/31/haml_link_trailing_whitespace_sucks http://www.rubyops.net/2012/05/31/vlad-push http://www.rubyops.net/2012/06/02/mongomapper_overwriting_a_collection_name http://www.rubyops.net/2012/06/01/killing_whitespace_in_haml http://www.rubyops.net/2012/06/04/caching_external_http_requests_with_vcr_in_rack http://www.rubyops.net/2012/06/12/migrating_from_mongomapper_to_mongoid http://www.rubyops.net/2012/06/16/setting_up_newrelic_on_sinatra http://www.rubyops.net/2012/06/29/chrome_for_ios http://www.rubyops.net/2012/07/02/link_application_cache_is_a_douchbag http://www.rubyops.net/2012/07/13/mongocached_simple_cache_using_mongodb http://www.rubyops.net/2012/07/18/hello_world http://www.rubyops.net/2012/07/06/diskcached_simple_disk_cacheing_for_ruby http://www.rubyops.net/2012/05/29/deploy_sinatra_with_vlad_and_git http://www.rubyops.net/2012/07/21/duality_two_caches_at_once http://www.rubyops.net/2012/07/21/benchmarking_in_ruby http://www.rubyops.net/2012/07/30/performance_testing_with_httperf http://www.rubyops.net/2012/08/10/automating_performance_testing_with_httperfrb http://www.rubyops.net/2012/08/13/httperf-0_9_1_with_individual_connection_times http://www.rubyops.net/2012/08/13/httperfgrapher_0_0_4 http://www.rubyops.net/2012/08/27/fixing_wireless_on_the_hp_folio_13_when_using_linux http://www.rubyops.net/2012/09/05/executing_bash_from_ruby http://www.rubyops.net/2012/09/15/executing_bash_from_python http://www.rubyops.net/2012/09/18/iptables_rules_examples http://www.rubyops.net/archive }

fails = []
URLS.each do |url|
    if system("curl -s #{url} > /dev/null")
        print "+"
    else
        print "-"
        fails.push url
    end
end

unless fails.empty?
  puts "FAILURES:"
  fails.each do |failure|
    puts " - #{failure}"
  end
  exit 1
else
  exit 0
end
